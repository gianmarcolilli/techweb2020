<app-header [my-title]="'Visualizza'"> </app-header>

<button (click)="refresh()">aggiorna</button>

<h1>
  {{ title }}
</h1>
<h2>
  {{ didascalia }}
</h2>



<section id="step">
  <div *ngIf="currentStepId != -1">
    <!-- {{ this.steps[currentStepId]. }} -->

    <div *ngIf="this.steps[currentStepId].action == 'quiz'">
      <ng-container
        *ngIf="
          this.steps[currentStepId].answers &&
          this.steps[currentStepId].answers.length > 0
        ">

      <!-- <mat-selection-list #answers>
        <mat-list-option *ngFor="let answ of this.steps[currentStepId].answers">
          {{ answ.content }} {{ answ.correct }}
        </mat-list-option>
      </mat-selection-list> -->

      <mat-list role="list" *ngFor="let answ of this.steps[currentStepId].answers;let i = index" (click)="gestisciQuiz(i)">
        <button
        mat-raised-button
        color="accent" role="listitem">{{ answ }}</button>
      </mat-list>

        <!-- <p  style="padding-left: 20px;" *ngFor="let answ of this.steps[currentStepId].answers">
          <button
            mat-raised-button
            color="primary"

          >
            {{ answ.content }} {{ answ.correct }}
          </button>
        </p> -->
      </ng-container>
    </div>
    <div *ngIf="steps[currentStepId].action == 'puzzle'">
        <!-- <app-image-puzzle [puzzleUrl]=steps[currentStepId].puzzleUrl>

        </app-image-puzzle> -->

        <app-image-puzzle  [difficulty]="this.steps[this.currentStepId].difficulty" [puzzleUrl]="this.steps[this.currentStepId].puzzleImg">

        </app-image-puzzle>
    </div>



    <div *ngIf="steps[currentStepId].action == 'domanda'">
          Ecco la domanda a cui rispondere :
          {{ steps[currentStepId].activityTitle}}

          <input [(ngModel)]="tempRisposta" class="form-control" type="text" placeholder="Inserisci qui la risposta ">
          <button (click)="rispondiDomanda()"> Avanti </button>

    </div>

    <div *ngIf="steps[currentStepId].action == 'informazione'">
      step corrente {{ currentStepId }}
      Lo sapevi che ?
      {{ steps[currentStepId].activityTitle}}
      <!-- <input [(ngModel)]="tempRisposta" class="form-control" type="text" placeholder="Inserisci qui la risposta "> -->
      <button (click)="gestisciAvanzamento()"> Avanti </button>
    </div>
  </div>
</section>

<button *ngIf="this.currentStepId<0" mat-raised-button color="primary" (click)="iniziaStep()">
  {{ startText ? startText : "Inizia" }}
</button>

<img [src]="urlIconaPrincip" />







